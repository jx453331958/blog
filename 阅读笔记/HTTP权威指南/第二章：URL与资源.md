# HTTP 权威指南

## 第 2 章 URL 与资源

1. URL 是浏览器寻找信息时所需要的资源位置。

2. URI 是一类更通用的资源标识符，URL 实际上是它的一个子集。URI 由 URL 和 URN 构成。

3. HTTP 规范将更通用的概念 URI 作为其资源标识符，但实际上，HTTP 应用程序处理的只是 URI 的 URL 子集。

4. URL 分为三个部分：

    1. 第一部分是 URL 的方案（scheme）。方案可以告知客户端怎样访问资源。
    2. 第二部分是服务器的位置。告知客户端资源位于何处。
    3. 第三部分是资源路径。路径说明了请求的是服务器上哪个特定的本地资源。

5. URL 的通用格式：`<scheme>://<user>:<password>@<host>:<port>/<path>;<params>?<query>#<frag>`

    1. URL 最重要的 3 个部分是方案（scheme）、主机（host）和路径（path）
    2. 方案：访问服务器以获取资源时需要使用的协议
    3. 用户：访问资源时的用户名
    4. 密码：用户名后面可能要包含密码
    5. 主机：资源宿主服务器的主机名或 IP 地址
    6. 端口：资源宿主服务器正在监听的端口号。HTTP 默认为 80
    7. 路径：服务器上资源的本地名，由斜杠分隔开
    8. 参数：某些方案会用这个组件来指定输入参数
    9. 查询：query 参数
    10. 片段：一小片或一部分资源的名字

6. URL 有两种方式：绝对的和相对的

7. URL 是可移植的。它要统一地命名因特网上所有的资源，也就意味着要通过各种不同的协议来传送这些资源。所以，设计 URL，使其可以通过任意因特网协议安全地传输很重要。

8. 安全传输意味着 URL 不能丢失信息。URL 传输过程中需要是完整的。需要有一种转义机制，能够将不安全的字符编码为安全字符，再进行传输。

9. URL 字符集：

    1. 默认的计算机系统通常都倾向于以英语为中心。很多计算机应用程序使用的都是 US-ASC2 字符集。US-ASC2 使用 7 位二进制码来表示英文打字机提供的大多数按键和少数用于文本格式和硬件通知的不可打印控制字符。
    2. US-ASC2 的历史悠久，所以可移植性很好。但是它并不支持在各种欧洲语言或数百种非罗马语言中很常见的变体字符。
    3. URL 的设计者将转义序列集成了进去。通过转义序列，就可以用 US-ASC2 字符集的有限子集对任意字符集或数据进行编码了，这样就实现了可移植性和完整性。
    4. 编码机制：为了避开安全字符集表示法带来的限制，人们设计了一种编码机制，用来在 URL 中表示各种不安全的字符。这种编码机制就是通过一种“转义”表示法来表示不安全字符的，这种转义表示法包含一个百分号，后面跟着两个表示字符 ASC2 码的十六进制数。
    5. 字符限制：在 URL 中，有些字符被保留起来，有着特殊的含义。有些字符不在定义的 US-ASC2 可打印字符集中。还有些字符会与某些因特网网关和协议产生混淆，因此不赞成使用。

10. 常见方案格式：
    1. http：超文本传输协议，默认端口 80
    2. https：与方案 http 是一对，区别在于方案 https 使用了网景的 SSL，SSL 为 HTTP 连接提供了端到端的加密机制。其语法与 HTTP 的语法相同，默认端口为 443
    3. mailto：Mailto URL 指向的是 E-mail 地址。
    4. ftp：文件传输协议 URL 可以用来从 FTP 服务器上下载或向其上载文件，并获取 FTP 服务器上的目录结构内容的列表。
    5. rtsp, rtspu：RTSP URL 是可以通过实时流传输协议解析的音/视频媒体资源的标识符。
    6. file：方案 file 表示一台指定主机上可以直接访问的文件。
    7. news：用来访问一些特定的文章或新闻组。
    8. telnet：用于访问交互式业务。
