# 鸟哥的Linux私房菜

## 第 13 章：学习shell script

1. shell script是利用shell的功能所写的一个程序，这个程序是使用纯文本文件，将一些shell的语法与命令写在里面，搭配正则表达式、管道命令与数据流重定向等功能，以达到我们所想要的目的。
2. shell脚本中命令的执行是从上而下，从左而右地分析与执行。
3. shell.sh文件必须要具备可读与可执行(rx)的权限
4. 绝对路径执行命令：例如使用/home/dmtsai/shell.sh来执行
5. 相对路径执行命令：例如./shell.sh
6. 变量“PATH”功能：将shell.sh放在PATH指定的目录内，例如：～/bin/。若shell在~/bin内且具有rx的权限，那就直接输入shell.sh即可执行该脚本程序
7. 以bash进程来执行：通过`bash shell.sh`或`sh shell.sh`来执行。
8. shell脚本的第一行`#!/bin/bash`声明这个script使用的shell名称。当这个程序被执行时，它就能够加载bash的相关环境配置文件，并且执行bash来使脚本中的命令能够执行。如果没有设置这一行，该程序很可能会无法执行，因为系统可能无法判断该程序需要使用什么shell来执行。
9. 利用直接执行的方式来执行script:
  1. 不论是绝对路径、相对路径或者是用bash来执行脚本，该script都会使用一个新的bash环境来执行脚本内的命令。使用这种执行方式时，其实script是在子进程的bash内来执行的。当子进程完成后，子进程内的各项变量或操作将会结束而不会回传到父进程中。
  2. 利用source来执行脚本：在父进程中执行。用source的方式来执行脚本，会在父进程中执行，因此各项操作都会在原本的bash内生效。
